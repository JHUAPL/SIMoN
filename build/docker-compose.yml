version: '3'

services:

        population: 
                build: ../models/examples/population/
                volumes:
                - ../models/examples/population:/opt:ro

        waterdemand: 
                build: ../models/examples/waterdemand/
                volumes:
                        - ../models/examples/waterdemand:/opt:ro

        rcp_climate:
                build: ../models/examples/rcp_climate/
                volumes:
                        - ../models/examples/rcp_climate:/opt:ro

        power_supply: 
                build: ../models/examples/power_supply/
                volumes:
                - ../models/examples/power_supply:/opt:ro

        power_demand: 
                build: ../models/examples/power_demand/
                volumes:
                - ../models/examples/power_demand:/opt:ro

        mongodb:
                image: mongo:latest
                container_name: mongodb
                labels:
                        simon: "database"
                expose:
                        - "27017"
                ports:
                        - "27017:27017"
                environment:
                        - MONGO_URI=mongodb:27017

        broker:
                build: ../broker/
                container_name: broker
                labels:
                        simon: "broker"
                volumes:
                        - ../broker:/opt:ro
